"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[6040],{89186:(e,a,t)=>{t.d(a,{gz:()=>$,D_:()=>E});var n=t(22965),r=t(73481),o=t(29771),s=t(43882),d=t(54373),c=t(57842),i=t(33037),l=t(25510),p=t(56225);const h=(0,l.zG)(r.U2,d.UI((0,l.ls)(r.xL,i.U3({True:"production",False:"development"}))),s.UI(o.f1)),u=(0,l.zG)(p.er,s.ht,c.NG((e=>e.ad_env)),c.HV(h)),m=(()=>{switch(u){case"production":return"10457";case"development":return"10495"}})(),I=(()=>{switch(u){case"production":return"1121954";case"development":return"1124528"}})();var y=t(28897),T=t(57051),U=t(60301),f=t(4094),k=t(8173),F=t(46247),z=t(69184),S=t(68873),b=t(97174),v=t(75525),G=t(23873),x=t(43328),D=t(49966),_=t(62876),g=t(87976),P=t(72727),C=t(61465),A=t(8204);const w=f.UID((e=>{return void 0!==e.message?e.message:`[Context] ${t=e.context,(0,l.zG)(t,x.UI((e=>{let{key:a,type:t}=e;return`${a}: ${t.name}`})),D.v_("/"))}\n[Value] ${a=e.value,"function"==typeof a?P.$P(a):"number"==typeof a&&!1===isFinite(a)?isNaN(a)?"NaN":a>0?"Infinity":"-Infinity":JSON.stringify(a,((e,a)=>"impressionUrl"!==e&&"clickUrl"!==e&&"externalUrl"!==e||"string"!=typeof a?"ctImpressionTrackers"===e?"***":a:`${a.substring(0,10)}...`))}`;var a,t})),N=A.Dy.match({HomePageInFeed:()=>"homepage-in-feed",SayThanksCardMobile:()=>"say-thanks-card-mobile",SayThanksCardTabletUp:()=>"say-thanks-card-desktop",TopicsInFeed:()=>"topics-in-feed",ExploreInFeed:()=>"explore-in-feed",SearchInFeed:()=>"search-in-feed"}),j=(()=>{switch(u){case"development":return A.Dy.matchX({HomePageInFeed:S.of(301585),SayThanksCardMobile:S.of(237077),SayThanksCardTabletUp:S.of(237076),TopicsInFeed:S.VF(C.AS.match({Phone:(0,l.a9)(257457),[g._]:(0,l.a9)(237186)})),ExploreInFeed:S.VF(C.AS.match({Phone:(0,l.a9)(257456),[g._]:(0,l.a9)(247889)})),SearchInFeed:S.VF(C.AS.match({Phone:(0,l.a9)(257455),[g._]:(0,l.a9)(241347)}))});case"production":return A.Dy.matchX({HomePageInFeed:S.of(301587),SayThanksCardMobile:S.of(219423),SayThanksCardTabletUp:S.of(219424),TopicsInFeed:S.VF(C.AS.match({Phone:(0,l.a9)(257453),[g._]:(0,l.a9)(237209)})),ExploreInFeed:S.VF(C.AS.match({Phone:(0,l.a9)(257454),[g._]:(0,l.a9)(247890)})),SearchInFeed:S.VF(C.AS.match({Phone:(0,l.a9)(257452),[g._]:(0,l.a9)(241348)}))})}})(),V=e=>{let{adType:a,count:t}=e;return(0,l.zG)(j(a),S.UI((e=>({divName:N(a),zoneIds:F.of(e),count:t,networkId:m,siteId:I,adTypes:F.of(5),properties:{}}))))},$=e=>{let{adType:a,count:t}=e;const r=A.Dy.getTemplateCodec(a);return(0,l.zG)((o={adType:a,count:t},(0,l.zG)(b.of(y.q9),b.ap((0,l.zG)(o,V,S.UI(F.of),b.Ry)),b.ap(b.tD(n.T)))),v.XR,v.U0((e=>z.x0(y.sD(r),w)("/nabc",{method:"POST",headers:{[U.JU]:T.zc.JSON},body:y.D6.encode(e)}))),G.ap,G.UI((e=>(0,l.zG)(e.decisions,k.P5(N(a)),c.tS(c.ij),c.UI(F.UI((e=>A.Ad.fromKevelAd({ad:F.YM(e.contents),decision:e}))))))));var o},E=_.UI(c.tS((e=>(0,l.zG)(e.template,A.YS.match({InFeed:a=>c.G(A.Ad.mkInFeedAd({...e,template:a})),[g._]:(0,l.a9)(c.YP)})))))},38803:(e,a,t)=>{t.d(a,{W2:()=>g,Yo:()=>D,DU:()=>x});var n=t(85893),r=t(11324),o=t(70902),s=t(66132),d=t(83143),c=t(98677),i=t(8481),l=t(46681),p=t(4094),h=t(43882),u=t(69184),m=t(85198),I=t(57842),y=t(62876),T=t(87976),U=t(25510),f=t(40755),k=t(49056),F=t(61465),z=t(8204),S=t(46797),b=t(51439),v=t(86287),G=t(89186);const x=e=>{let{adType:a,count:t}=e;const n=(0,l.v)(k._v);return(0,r.m)((e=>{const a=(0,U.zG)(e,f.UID((e=>e[0])),f.xbd(z.Dy.Eq.equals)),n=(0,U.zG)(e,f.UID((e=>e[1])),f.xbd(I.Eh(F.Eq).equals));return(0,U.zG)(m.gz((0,U.zG)(a,m.u5),n),m.pd((e=>{let[a,n]=e;return(0,U.zG)(f.PQt((()=>(0,G.gz)({adType:a,count:t})(n))),f.bwX((e=>{if(y.hx(e)){const{error:t}=e;(0,U.zG)(t,u.JQ.match({DecodeError:(0,U.ls)(p.Ce7(`\nKevel response failed decoding for adType: "${z.Dy.Show.show(a)}"`),d._N,h.ht),[T._]:U.Q1}))}})))})),f.UID(I.pF((()=>y.nn))))}),[a,n])},D=e=>{let{adType:a,count:t,children:n}=e;return n((0,i.s)(x({adType:a,count:t})))},_=e=>{let{metadata:a}=e;return(0,n.jsxs)(S.PRT,{children:[(0,n.jsx)(v._,{url:a.impressionUrl}),(0,U.zG)(a.impressionTrackers,I.UI((e=>(0,U.zG)(e,p.UID((e=>(0,n.jsx)(v._,{url:e},e)))))),I.WG)]})},g=e=>{let{children:a,metadata:t,adType:r}=e;const d=(0,c.I)();return(0,o.Z)((()=>{d(s.aU.mk.DirectAdImpression({metadata:t,adType:r}))})),(0,n.jsxs)(S.PRT,{children:[a,(0,n.jsx)(b.Z,{children:(0,n.jsx)(_,{metadata:t})})]})}},18912:(e,a,t)=>{t.d(a,{$:()=>c});var n=t(85893),r=t(66132),o=t(98677),s=t(46797),d=t(4387);const c=e=>{let{metadata:a,adType:t,...c}=e;const i=(0,o.I)(),l=s.I47((()=>{i(r.aU.mk.TrackDirectAdClick({metadata:a,adType:t}))}),[a,t,i]);return(0,n.jsx)(d.r,{onClick:l,href:a.clickUrl,...c})}},8481:(e,a,t)=>{t.d(a,{s:()=>o});var n=t(8144),r=t(62876);const o=e=>(0,n.p)(e,r.nn)}}]);